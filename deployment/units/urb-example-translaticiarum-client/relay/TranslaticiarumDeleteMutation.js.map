{"version":3,"sources":["../../../../units/urb-example-translaticiarum-client/relay/TranslaticiarumDeleteMutation.js"],"names":["mutation","sharedUpdater","store","user","deletedId","userProxy","get","id","connection","getConnection","deleteNode","commit","environment","aTranslaticiarum","variables","input","updater","payload","getRootField","getValue","optimisticUpdater"],"mappings":";;AAEA;AACA;;AAEA,GAAMA,uGAAN;;;;;;;;AAQA,QAASC,cAAT,CAAuBC,KAAvB,CAA8BC,IAA9B,CAAoCC,SAApC,CAA+C;AAC7C,GAAMC,WAAYH,MAAMI,GAAN,CAAUH,KAAKI,EAAf,CAAlB;;AAEA,GAAMC,YAAa,gCAAkBC,aAAlB;AACjBJ,SADiB;AAEjB,sCAFiB,CAAnB;;AAIA,GAAIG,UAAJ,CAAgB;AACd,gCAAkBE,UAAlB,CAA6BF,UAA7B,CAAyCJ,SAAzC;AACD;AACF;;AAED,QAASO,OAAT,CAAgBC,WAAhB,CAA6BT,IAA7B,CAAmCU,gBAAnC,CAAqD;AACnD,MAAO,+BAAeD,WAAf,CAA4B;AACjCZ,iBADiC;AAEjCc,UAAW;AACTC,MAAO,CAAER,GAAIM,iBAAiBN,EAAvB,CADE,CAFsB;;;AAMjCS,OANiC,kBAMzBd,KANyB,CAMlB;AACb,GAAMe,SAAUf,MAAMgB,YAAN,CAAmB,uBAAnB,CAAhB;AACAjB,cAAcC,KAAd,CAAqBC,IAArB,CAA2Bc,QAAQE,QAAR,CAAiB,WAAjB,CAA3B;AACD,CATgC;;AAWjCC,iBAXiC,4BAWflB,KAXe,CAWR;AACvBD,cAAcC,KAAd,CAAqBC,IAArB,CAA2BU,iBAAiBN,EAA5C;AACD,CAbgC,CAA5B,CAAP;;AAeD,C;;AAEc,CAAEI,aAAF,C","file":"TranslaticiarumDeleteMutation.js","sourcesContent":["// @flow weak\n\nimport { commitMutation, graphql } from 'react-relay'\nimport { ConnectionHandler } from 'relay-runtime'\n\nconst mutation = graphql`\n  mutation TranslaticiarumDeleteMutation($input: TranslaticiarumDeleteInput!) {\n    TranslaticiarumDelete(input: $input) {\n      deletedId\n    }\n  }\n`\n\nfunction sharedUpdater(store, user, deletedId) {\n  const userProxy = store.get(user.id)\n\n  const connection = ConnectionHandler.getConnection(\n    userProxy,\n    'TranslaticiarumList_Translaticiarums',\n  )\n  if (connection) {\n    ConnectionHandler.deleteNode(connection, deletedId)\n  }\n}\n\nfunction commit(environment, user, aTranslaticiarum) {\n  return commitMutation(environment, {\n    mutation,\n    variables: {\n      input: { id: aTranslaticiarum.id },\n    },\n\n    updater(store) {\n      const payload = store.getRootField('TranslaticiarumDelete')\n      sharedUpdater(store, user, payload.getValue('deletedId'))\n    },\n\n    optimisticUpdater(store) {\n      sharedUpdater(store, user, aTranslaticiarum.id)\n    },\n  })\n}\n\nexport default { commit }\n"]}