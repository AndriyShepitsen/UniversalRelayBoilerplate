{"version":3,"sources":["../../../units/urb-base-server/healthz.js"],"names":["healthz","get","req","res","next","confirmHealth","sendStatus","Error"],"mappings":";;AAEA,gC;;AAEA,4F;;AAEA,GAAMA,SAAU,uBAAhB;;AAEAA,QAAQC,GAAR,CAAY,GAAZ,CAAiB,iBAAOC,GAAP,CAAYC,GAAZ,CAAiBC,IAAjB;;AAEP,2BAAiBC,aAAjB,EAFO;AAGbF,IAAIG,UAAJ,CAAe,GAAf,EAHa;;AAKbF,KAAK,GAAIG,MAAJ,CAAU,sBAAV,CAAL,EALa,iEAAjB,E;;;;AASeP,O","file":"healthz.js","sourcesContent":["// @flow\n\nimport express from 'express'\n\nimport defaultPersister from '../_configuration/urb-base-server/graphql/defaultPersister'\n\nconst healthz = express()\n\nhealthz.get('/', async (req, res, next) => {\n  try {\n    await defaultPersister.confirmHealth()\n    res.sendStatus(200)\n  } catch (err) {\n    next(new Error('ðŸ’” DB is unreachable'))\n  }\n})\n\nexport default healthz\n"]}