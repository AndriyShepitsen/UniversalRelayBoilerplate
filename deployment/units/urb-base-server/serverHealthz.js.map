{"version":3,"sources":["../../../units/urb-base-server/serverHealthz.js"],"names":["serverHealthz","get","req","res","next","confirmHealth","sendStatus","Error"],"mappings":";;AAEA,gC;;AAEA,4F;;AAEA,GAAMA,eAAgB,uBAAtB;;AAEAA,cAAcC,GAAd,CAAkB,GAAlB,CAAuB,iBAAOC,GAAP,CAAYC,GAAZ,CAAiBC,IAAjB;;AAEb,2BAAiBC,aAAjB,EAFa;AAGnBF,IAAIG,UAAJ,CAAe,GAAf,EAHmB;;AAKnBF,KAAK,GAAIG,MAAJ,CAAU,sBAAV,CAAL,EALmB,iEAAvB,E;;;;AASeP,a","file":"serverHealthz.js","sourcesContent":["// @flow\n\nimport express from 'express'\n\nimport defaultPersister from '../_configuration/urb-base-server/graphql/defaultPersister'\n\nconst serverHealthz = express()\n\nserverHealthz.get('/', async (req, res, next) => {\n  try {\n    await defaultPersister.confirmHealth()\n    res.sendStatus(200)\n  } catch (err) {\n    next(new Error('ðŸ’” DB is unreachable'))\n  }\n})\n\nexport default serverHealthz\n"]}