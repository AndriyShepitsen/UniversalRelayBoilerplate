{"version":3,"sources":["../../../../../units/urb-example-todo-server/graphql/helper/ToDoListUpdateMarkAll.js"],"names":["ToDoListUpdateMarkAll","objectManager","ToDo_CompleteNew","getObjectList","ToDo_User_id","getViewerUserId","arr","arr_filtered","filter","a_ToDo","ToDo_Complete","arrPromiseToUpdate","map","update","id","arr_local_ids_Changed_ToDos","Promise","all"],"mappings":";;AAEe,QAAeA,sBAAf,CAAqCC,aAArC,CAAoDC,gBAApD;AACKD,cAAcE,aAAd,CAA4B,MAA5B,CAAoC;AACpDC,aAAcH,cAAcI,eAAd,EADsC,CAApC,CADL,SACPC,GADO;;;AAKPC,YALO,CAKQD,IAAIE,MAAJ,CAAW,uBAAUC,QAAOC,aAAP,EAAwBR,gBAAlC,EAAX,CALR;;AAOPS,kBAPO,CAOcJ,aAAaK,GAAb,CAAiB;AAC1CX,cAAcY,MAAd,CAAqB,MAArB,CAA6B;AAC3BC,GAAIL,OAAOK,EADgB;AAE3BJ,cAAeR,gBAFY,CAA7B,CAD0C,GAAjB,CAPd;;;;AAcPa,2BAdO,CAcuBR,aAAaK,GAAb,CAAiB,uBAAUH,QAAOK,EAAjB,EAAjB,CAdvB;;AAgBPE,QAAQC,GAAR,CAAYN,kBAAZ,CAhBO;;AAkBNI,2BAlBM,0D","file":"ToDoListUpdateMarkAll.js","sourcesContent":["// @flow weak\n\nexport default async function ToDoListUpdateMarkAll(objectManager, ToDo_CompleteNew) {\n  const arr = await objectManager.getObjectList('ToDo', {\n    ToDo_User_id: objectManager.getViewerUserId(),\n  })\n\n  const arr_filtered = arr.filter(a_ToDo => a_ToDo.ToDo_Complete != ToDo_CompleteNew)\n\n  const arrPromiseToUpdate = arr_filtered.map(a_ToDo =>\n    objectManager.update('ToDo', {\n      id: a_ToDo.id,\n      ToDo_Complete: ToDo_CompleteNew,\n    }),\n  )\n\n  const arr_local_ids_Changed_ToDos = arr_filtered.map(a_ToDo => a_ToDo.id)\n\n  await Promise.all(arrPromiseToUpdate)\n\n  return arr_local_ids_Changed_ToDos\n}\n"]}