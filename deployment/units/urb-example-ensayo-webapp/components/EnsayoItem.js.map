{"version":3,"sources":["../../../../units/urb-example-ensayo-webapp/components/EnsayoItem.jsx"],"names":["EnsayoItem","props","context","_handle_handlerUpdate_Properties","_handle_handlerClose_Properties","handleClickListItem","_handle_Menu_onClick_Edit","_handle_Menu_onClick_Delete","handleRequestClose","state","anchorEl","undefined","menuIsOpen","propertiesIsOpen","ensayoProperties","Ensayo_Title","Ensayo_Description","Ensayo_Content","relay","Ensayo","commit","environment","setState","event","currentTarget","Viewer","Component","propTypes","object","isRequired"],"mappings":"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","file":"EnsayoItem.js","sourcesContent":["// @flow\n\nimport IconButton from 'material-ui/IconButton'\nimport { ListItem, ListItemSecondaryAction, ListItemText } from 'material-ui/List'\nimport Menu, { MenuItem } from 'material-ui/Menu'\nimport { MoreVert } from 'material-ui-icons'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { createFragmentContainer, graphql } from 'react-relay'\n\nimport EnsayoDeleteMutation from '../../urb-example-ensayo-client/relay/EnsayoDeleteMutation'\nimport EnsayoProperties from './EnsayoProperties'\nimport EnsayoUpdateMutation from '../../urb-example-ensayo-client/relay/EnsayoUpdateMutation'\n\nclass EnsayoItem extends React.Component {\n  static propTypes = {\n    Viewer: PropTypes.object.isRequired,\n    Ensayo: PropTypes.object.isRequired,\n    relay: PropTypes.object.isRequired,\n  }\n\n  state: {\n    anchorEl: ?Object,\n    menuIsOpen: boolean,\n    propertiesIsOpen: boolean,\n  }\n\n  constructor(props: Object, context: Object) {\n    super(props, context)\n\n    this.state = {\n      anchorEl: undefined,\n      menuIsOpen: false,\n      propertiesIsOpen: false,\n    }\n  }\n\n  _handle_handlerUpdate_Properties = ensayoProperties => {\n    const { Ensayo_Title, Ensayo_Description, Ensayo_Content } = ensayoProperties\n    const { relay, Ensayo } = this.props\n\n    EnsayoUpdateMutation.commit(\n      relay.environment,\n      Ensayo,\n      Ensayo_Content,\n      Ensayo_Title,\n      Ensayo_Description,\n    )\n  }\n\n  _handle_handlerClose_Properties = () => {\n    this.setState({ propertiesIsOpen: false })\n  }\n\n  handleClickListItem = event => {\n    this.setState({ menuIsOpen: true, anchorEl: event.currentTarget })\n  }\n\n  _handle_Menu_onClick_Edit = event => {\n    this.setState({ menuIsOpen: false, propertiesIsOpen: true })\n  }\n\n  _handle_Menu_onClick_Delete = event => {\n    this.setState({ menuIsOpen: false })\n\n    const { relay, Viewer, Ensayo } = this.props\n\n    EnsayoDeleteMutation.commit(relay.environment, Viewer, Ensayo)\n  }\n\n  handleRequestClose = () => {\n    this.setState({ menuIsOpen: false })\n  }\n\n  render() {\n    const { Ensayo_Title, Ensayo_Description, Ensayo_Content } = this.props.Ensayo\n\n    return (\n      <div>\n        <ListItem\n          button\n          aria-haspopup=\"true\"\n          aria-controls=\"lock-menu\"\n          onClick={this.handleClickListItem}\n        >\n          <ListItemText primary={Ensayo_Title} secondary={Ensayo_Description} />\n        </ListItem>\n        <Menu\n          id=\"lock-menu\"\n          anchorEl={this.state.anchorEl}\n          open={this.state.menuIsOpen}\n          onRequestClose={this.handleRequestClose}\n        >\n          <MenuItem key=\"edit\" onClick={event => this._handle_Menu_onClick_Edit(event)}>\n            Edit\n          </MenuItem>\n          <MenuItem key=\"delete\" onClick={event => this._handle_Menu_onClick_Delete(event)}>\n            Delete\n          </MenuItem>\n        </Menu>\n        <EnsayoProperties\n          Ensayo_Title={Ensayo_Title}\n          Ensayo_Description={Ensayo_Description}\n          Ensayo_Content={Ensayo_Content}\n          handlerUpdate={this._handle_handlerUpdate_Properties}\n          handlerClose={this._handle_handlerClose_Properties}\n          open={this.state.propertiesIsOpen}\n        />\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer(EnsayoItem, {\n  Viewer: graphql`\n    fragment EnsayoItem_Viewer on Viewer {\n      id\n    }\n  `,\n  Ensayo: graphql`\n    fragment EnsayoItem_Ensayo on Ensayo {\n      id\n      Ensayo_Title\n      Ensayo_Description\n      Ensayo_Content\n    }\n  `,\n})\n"]}