{"version":3,"sources":["../../../../units/urb-example-ensayo-webapp/components/EnsayoItem.jsx"],"names":["EnsayoItem","props","context","_handle_Update_Properties","Ensayo_Title","ensayoProperties","Ensayo_Description","Ensayo_Content","relay","Ensayo","commit","environment","_handle_Close_Properties","setState","propertiesIsOpen","handleClickListItem","menuIsOpen","anchorEl","event","currentTarget","_handle_Menu_onClick_Edit","_handle_Menu_onClick_Delete","Viewer","handleRequestClose","state","undefined","Component","propTypes","object","isRequired"],"mappings":"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","file":"EnsayoItem.js","sourcesContent":["// @flow\n\nimport IconButton from 'material-ui/IconButton'\nimport { ListItem, ListItemSecondaryAction, ListItemText } from 'material-ui/List'\nimport Menu, { MenuItem } from 'material-ui/Menu'\nimport { MoreVert } from 'material-ui-icons'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport { createFragmentContainer, graphql } from 'react-relay'\n\nimport EnsayoDeleteMutation from '../../urb-example-ensayo-client/relay/EnsayoDeleteMutation'\nimport EnsayoProperties from './EnsayoProperties'\nimport EnsayoUpdateMutation from '../../urb-example-ensayo-client/relay/EnsayoUpdateMutation'\n\nclass EnsayoItem extends React.Component {\n  static propTypes = {\n    Viewer: PropTypes.object.isRequired,\n    Ensayo: PropTypes.object.isRequired,\n    relay: PropTypes.object.isRequired,\n  }\n\n  state: {\n    anchorEl: ?Object,\n    menuIsOpen: boolean,\n    propertiesIsOpen: boolean,\n  }\n\n  constructor(props: Object, context: Object) {\n    super(props, context)\n\n    this.state = {\n      anchorEl: undefined,\n      menuIsOpen: false,\n      propertiesIsOpen: false,\n    }\n  }\n\n  _handle_Update_Properties = ensayoProperties => {\n    const { Ensayo_Title, Ensayo_Description, Ensayo_Content } = ensayoProperties\n    const { relay, Ensayo } = this.props\n\n    EnsayoUpdateMutation.commit(\n      relay.environment,\n      Ensayo,\n      Ensayo_Title,\n      Ensayo_Description,\n      Ensayo_Content,\n    )\n  }\n\n  _handle_Close_Properties = () => {\n    this.setState({ propertiesIsOpen: false })\n  }\n\n  handleClickListItem = event => {\n    this.setState({ menuIsOpen: true, anchorEl: event.currentTarget })\n  }\n\n  _handle_Menu_onClick_Edit = event => {\n    this.setState({ menuIsOpen: false, propertiesIsOpen: true })\n  }\n\n  _handle_Menu_onClick_Delete = event => {\n    this.setState({ menuIsOpen: false })\n\n    const { relay, Viewer, Ensayo } = this.props\n\n    EnsayoDeleteMutation.commit(relay.environment, Viewer, Ensayo)\n  }\n\n  handleRequestClose = () => {\n    this.setState({ menuIsOpen: false })\n  }\n\n  render() {\n    const { Ensayo_Title, Ensayo_Description, Ensayo_Content } = this.props.Ensayo\n    const { propertiesIsOpen } = this.state\n\n    return (\n      <div>\n        <ListItem\n          button\n          aria-haspopup=\"true\"\n          aria-controls=\"lock-menu\"\n          onClick={this.handleClickListItem}\n        >\n          <ListItemText primary={Ensayo_Title} secondary={Ensayo_Description} />\n        </ListItem>\n        <Menu\n          id=\"lock-menu\"\n          anchorEl={this.state.anchorEl}\n          open={this.state.menuIsOpen}\n          onRequestClose={this.handleRequestClose}\n        >\n          <MenuItem key=\"edit\" onClick={event => this._handle_Menu_onClick_Edit(event)}>\n            Edit\n          </MenuItem>\n          <MenuItem key=\"delete\" onClick={event => this._handle_Menu_onClick_Delete(event)}>\n            Delete\n          </MenuItem>\n        </Menu>\n        {propertiesIsOpen &&\n          <EnsayoProperties\n            Ensayo_Title={Ensayo_Title}\n            Ensayo_Description={Ensayo_Description}\n            Ensayo_Content={Ensayo_Content}\n            handlerUpdate={this._handle_Update_Properties}\n            handlerClose={this._handle_Close_Properties}\n          />}\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer(EnsayoItem, {\n  Viewer: graphql`\n    fragment EnsayoItem_Viewer on Viewer {\n      id\n    }\n  `,\n  Ensayo: graphql`\n    fragment EnsayoItem_Ensayo on Ensayo {\n      id\n      Ensayo_Title\n      Ensayo_Description\n      Ensayo_Content\n    }\n  `,\n})\n"]}