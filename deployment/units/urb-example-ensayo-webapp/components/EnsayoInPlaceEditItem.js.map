{"version":3,"sources":["../../../../units/urb-example-ensayo-webapp/components/EnsayoInPlaceEditItem.jsx"],"names":["EnsayoInPlaceEditItem","props","context","_handle_Update_Properties","Ensayo_Title","EnsayoInPlaceEditProperties","Ensayo_Description","Ensayo_Content","relay","Ensayo","commit","environment","_handle_Close_Properties","setState","propertiesIsOpen","handleClickListItem","menuIsOpen","anchorEl","event","currentTarget","_handle_Menu_onClick_Edit","_handle_Menu_onClick_Delete","Viewer","handleRequestClose","state","undefined","Component"],"mappings":";;AAEA;AACA,sC;AACA,4B;AACA;;AAEA,gG;AACA,gG;;AAEA,0E;;AAEMA,qB;;;;;;;;;;;;AAYJ,+BAAaC,KAAb,CAA4BC,OAA5B,CAA8C;AACrCD,KADqC,CAC9BC,OAD8B;;;;;;;;;AAU9CC,yBAV8C,CAUlB,qCAA+B;;AAEvDC,YAFuD;;;AAKrDC,2BALqD,CAEvDD,YAFuD,CAGvDE,kBAHuD,CAKrDD,2BALqD,CAGvDC,kBAHuD,CAIvDC,cAJuD,CAKrDF,2BALqD,CAIvDE,cAJuD;AAM/B,MAAKN,KAN0B,CAMjDO,KANiD,aAMjDA,KANiD,CAM1CC,MAN0C,aAM1CA,MAN0C;;AAQzD,+BAAqBC,MAArB;AACEF,MAAMG,WADR;AAEEF,MAFF;AAGEL,YAHF;AAIEE,kBAJF;AAKEC,cALF;;AAOD,CAzB6C;;AA2B9CK,wBA3B8C,CA2BnB,UAAM;AAC/B,MAAKC,QAAL,CAAc,CAAEC,iBAAkB,KAApB,CAAd;AACD,CA7B6C;;AA+B9CC,mBA/B8C,CA+BxB,eAAS;AAC7B,MAAKF,QAAL,CAAc,CAAEG,WAAY,IAAd,CAAoBC,SAAUC,MAAMC,aAApC,CAAd;AACD,CAjC6C;;AAmC9CC,yBAnC8C,CAmClB,eAAS;AACnC,MAAKP,QAAL,CAAc,CAAEG,WAAY,KAAd,CAAqBF,iBAAkB,IAAvC,CAAd;AACD,CArC6C;;AAuC9CO,2BAvC8C,CAuChB,eAAS;AACrC,MAAKR,QAAL,CAAc,CAAEG,WAAY,KAAd,CAAd,EADqC;;AAGH,MAAKf,KAHF,CAG7BO,KAH6B,cAG7BA,KAH6B,CAGtBc,MAHsB,cAGtBA,MAHsB,CAGdb,MAHc,cAGdA,MAHc;;AAKrC,+BAAqBC,MAArB,CAA6BF,MAAMG,WAAnC,CAAgDW,MAAhD,CAAwDb,MAAxD;AACD,CA7C6C;;AA+C9Cc,kBA/C8C,CA+CzB,UAAM;AACzB,MAAKV,QAAL,CAAc,CAAEG,WAAY,KAAd,CAAd;AACD,CAjD6C,CAG5C,MAAKQ,KAAL,CAAa,CACXP,SAAUQ,SADC,CAEXT,WAAY,KAFD,CAGXF,iBAAkB,KAHP,CAAb,CAH4C,aAQ7C,C;;AA2CQ;;;;;AAKH,KAAKb,KAAL,CAAWQ,MALR,CAELL,YAFK,eAELA,YAFK,CAGLE,kBAHK,eAGLA,kBAHK,CAILC,cAJK,eAILA,cAJK;AAMCO,gBAND,CAMsB,KAAKU,KAN3B,CAMCV,gBAND;;AAQP;AACE;AACE;AACE,WADF;AAEE,gBAAc,MAFhB;AAGE,gBAAc,WAHhB;AAIE,QAAS,KAAKC,mBAJhB;;AAME,kDAAc,QAASX,YAAvB,CAAqC,UAAWE,kBAAhD,EANF,CADF;;AASE;AACE,GAAG,WADL;AAEE,SAAU,KAAKkB,KAAL,CAAWP,QAFvB;AAGE,KAAM,KAAKO,KAAL,CAAWR,UAHnB;AAIE,eAAgB,KAAKO,kBAJvB;;AAME;AACE,IAAI,MADN;AAEE,QAAS,8BAAS,QAAKH,yBAAL,CAAgCF,KAAhC,CAAT,EAFX,SANF;;;;AAYE;AACE,IAAI,QADN;AAEE,QAAS,8BAAS,QAAKG,2BAAL,CAAkCH,KAAlC,CAAT,EAFX,WAZF,CATF;;;;;AA4BGJ;AACC;AACE,aAAcV,YADhB;AAEE,mBAAoBE,kBAFtB;AAGE,eAAgBC,cAHlB;AAIE,cAAe,KAAKJ,yBAJtB;AAKE,aAAc,KAAKS,wBALrB,EA7BJ,CADF;;;;;AAwCD,C,mCA/GiC,gBAAMc,S;;;AAkH3B,wCAAyB1B,qBAAzB,CAAgD;AAC7DsB,iGAD6D;;;;;AAM7Db,iGAN6D,CAAhD,C","file":"EnsayoInPlaceEditItem.js","sourcesContent":["// @flow\n\nimport { ListItem, ListItemText } from 'material-ui/List'\nimport Menu, { MenuItem } from 'material-ui/Menu'\nimport React from 'react'\nimport { createFragmentContainer, graphql } from 'react-relay'\n\nimport EnsayoDeleteMutation from '../../urb-example-ensayo-client/relay/EnsayoDeleteMutation'\nimport EnsayoUpdateMutation from '../../urb-example-ensayo-client/relay/EnsayoUpdateMutation'\n\nimport EnsayoInPlaceEditProperties from './EnsayoInPlaceEditProperties'\n\nclass EnsayoInPlaceEditItem extends React.Component<\n  {\n    Viewer: Object,\n    Ensayo: Object,\n    relay: Object\n  },\n  {\n    anchorEl: ?Object,\n    menuIsOpen: boolean,\n    propertiesIsOpen: boolean\n  }\n> {\n  constructor( props: Object, context: Object ) {\n    super( props, context )\n\n    this.state = {\n      anchorEl: undefined,\n      menuIsOpen: false,\n      propertiesIsOpen: false,\n    }\n  }\n\n  _handle_Update_Properties = EnsayoInPlaceEditProperties => {\n    const {\n      Ensayo_Title,\n      Ensayo_Description,\n      Ensayo_Content,\n    } = EnsayoInPlaceEditProperties\n    const { relay, Ensayo } = this.props\n\n    EnsayoUpdateMutation.commit(\n      relay.environment,\n      Ensayo,\n      Ensayo_Title,\n      Ensayo_Description,\n      Ensayo_Content\n    )\n  }\n\n  _handle_Close_Properties = () => {\n    this.setState({ propertiesIsOpen: false })\n  }\n\n  handleClickListItem = event => {\n    this.setState({ menuIsOpen: true, anchorEl: event.currentTarget })\n  }\n\n  _handle_Menu_onClick_Edit = event => {\n    this.setState({ menuIsOpen: false, propertiesIsOpen: true })\n  }\n\n  _handle_Menu_onClick_Delete = event => {\n    this.setState({ menuIsOpen: false })\n\n    const { relay, Viewer, Ensayo } = this.props\n\n    EnsayoDeleteMutation.commit( relay.environment, Viewer, Ensayo )\n  }\n\n  handleRequestClose = () => {\n    this.setState({ menuIsOpen: false })\n  }\n\n  render() {\n    const {\n      Ensayo_Title,\n      Ensayo_Description,\n      Ensayo_Content,\n    } = this.props.Ensayo\n    const { propertiesIsOpen } = this.state\n\n    return (\n      <div>\n        <ListItem\n          button\n          aria-haspopup=\"true\"\n          aria-controls=\"lock-menu\"\n          onClick={this.handleClickListItem}\n        >\n          <ListItemText primary={Ensayo_Title} secondary={Ensayo_Description} />\n        </ListItem>\n        <Menu\n          id=\"lock-menu\"\n          anchorEl={this.state.anchorEl}\n          open={this.state.menuIsOpen}\n          onRequestClose={this.handleRequestClose}\n        >\n          <MenuItem\n            key=\"edit\"\n            onClick={event => this._handle_Menu_onClick_Edit( event )}\n          >\n            Edit\n          </MenuItem>\n          <MenuItem\n            key=\"delete\"\n            onClick={event => this._handle_Menu_onClick_Delete( event )}\n          >\n            Delete\n          </MenuItem>\n        </Menu>\n        {propertiesIsOpen && (\n          <EnsayoInPlaceEditProperties\n            Ensayo_Title={Ensayo_Title}\n            Ensayo_Description={Ensayo_Description}\n            Ensayo_Content={Ensayo_Content}\n            handlerUpdate={this._handle_Update_Properties}\n            handlerClose={this._handle_Close_Properties}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer( EnsayoInPlaceEditItem, {\n  Viewer: graphql`\n    fragment EnsayoInPlaceEditItem_Viewer on Viewer {\n      id\n    }\n  `,\n  Ensayo: graphql`\n    fragment EnsayoInPlaceEditItem_Ensayo on Ensayo {\n      id\n      Ensayo_Title\n      Ensayo_Description\n      Ensayo_Content\n    }\n  `,\n})\n"]}