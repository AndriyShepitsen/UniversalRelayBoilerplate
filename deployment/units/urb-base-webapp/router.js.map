{"version":3,"sources":["../../../units/urb-base-webapp/router.jsx"],"names":["createResolver","historyMiddlewares","fetcher","environment","network","create","fetch","store","routeConfig"],"mappings":";;;;;;;;;;;;;;;;;AAiBgBA,c,CAAAA,c,CAfhB,0D,+DACA,0D,+DACA,sC,2CACA,uCACA,4B,2CACA,uCACA,2CAEA,gF,6DACA,+C,iDACA,uD,yDACA,yD,8IAEO,GAAMC,+CAAqB,2BAA3B,CAEA,QAASD,eAAT,CAAwBE,OAAxB,CAAsC;AAC3C,GAAMC,aAAc,8BAAgB;AAClCC,QAAS,sBAAQC,MAAR,CAAe,iBAAaH,SAAQI,KAAR,yBAAb,EAAf,CADyB;AAElCC,MAAO,wBAAU,gCAAV,CAF2B,CAAhB,CAApB;;;AAKA,MAAO,0BAAaJ,WAAb,CAAP;AACD;;AAEM,GAAMK,iCAAc;AACzB;AACE,KAAK,GADP;AAEE,4BAFF;AAGE,wFAHF;;;;;;;;;;AAaE,+CAAO,KAAK,MAAZ;AACE,+CAAO,KAAK,KAAZ,CAAkB,iCAAlB,EADF;AAEE,+CAAO,KAAK,QAAZ,CAAqB,gCAArB,EAFF,CAbF,CADyB,CAApB","file":"router.js","sourcesContent":["// @flow\n\nimport queryMiddleware from 'farce/lib/queryMiddleware'\nimport makeRouteConfig from 'found/lib/makeRouteConfig'\nimport Route from 'found/lib/Route'\nimport { Resolver } from 'found-relay'\nimport React from 'react'\nimport { graphql } from 'react-relay'\nimport { Environment, Network, RecordSource, Store } from 'relay-runtime'\n\nimport routesAppFrame from '../_configuration/urb-base-webapp/routesAppFrame'\nimport AppFrame from './components/AppFrame'\nimport LogoutScreen from './components/LogoutScreen'\nimport NewUserScreen from './components/NewUserScreen'\n\nexport const historyMiddlewares = [queryMiddleware]\n\nexport function createResolver(fetcher: any) {\n  const environment = new Environment({\n    network: Network.create((...args) => fetcher.fetch(...args)),\n    store: new Store(new RecordSource()),\n  })\n\n  return new Resolver(environment)\n}\n\nexport const routeConfig = makeRouteConfig(\n  <Route\n    path=\"/\"\n    Component={AppFrame}\n    query={graphql`\n      query router_AppFrame_Query {\n        Viewer {\n          ...AppFrame_Viewer\n        }\n      }\n    `}\n  >\n    {routesAppFrame}\n\n    <Route path=\"user\">\n      <Route path=\"new\" Component={NewUserScreen} />\n      <Route path=\"logout\" Component={LogoutScreen} />\n    </Route>\n  </Route>,\n)\n"]}