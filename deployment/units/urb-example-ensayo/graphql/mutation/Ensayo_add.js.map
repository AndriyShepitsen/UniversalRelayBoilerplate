{"version":3,"sources":["../../../../../units/urb-example-ensayo/graphql/mutation/EnsayoAdd.js"],"names":["name","inputFields","Ensayo_Content","type","Ensayo_Title","Ensayo_Description","outputFields","EnsayosEdge","edgeType","resolve","context","local_id","args","objectManager","rootValue","an_Object","getOneObject","id","then","retrieved_Object","getObjectList","Ensayo_User_id","getViewerUserId","cursor","cursorForObjectInConnection","arr","node","Viewer","parent","mutateAndGetPayload","add"],"mappings":";;AAEA;AACA;;AAEA,4D;AACA,+D;;AAEe,+CAA6B;AAC1CA,KAAM,YADoC;AAE1CC,YAAa;AACXC,eAAgB,CAAEC,KAAM,mDAAR,CADL;AAEXC,aAAc,CAAED,KAAM,mDAAR,CAFH;AAGXE,mBAAoB,CAAEF,KAAM,mDAAR,CAHT,CAF6B;;AAO1CG,aAAc;AACZC,YAAa;AACXJ,KAAM,4BAAkBK,QADb;AAEXC,QAAS,4BAA4BC,OAA5B,OAAsE,IAAnEC,SAAmE,MAAnEA,QAAmE,IAAlDC,KAAkD,uCAApBC,cAAoB,OAA/BC,SAA+B;AAC7E,GAAIC,iBAAJ;AACA,MAAOF;AACJG,YADI,CACS,QADT,CACmB,CAAEC,GAAIN,QAAN,CADnB;AAEJO,IAFI,CAEC,0BAAoB;AACxBH,UAAYI,gBAAZ;AACD,CAJI;AAKJD,IALI,CAKC;AACJL,cAAcO,aAAd,CAA4B,QAA5B,CAAsC;AACpCC,eAAgBR,cAAcS,eAAd,EADoB,CAAtC,CADI,GALD;;;AAUJJ,IAVI,CAUC,oBAAQ;AACZK,OAAQV,cAAcW,2BAAd,CAA0C,QAA1C,CAAoDC,GAApD,CAAyDV,SAAzD,CADI;AAEZW,KAAMX,SAFM,CAAR,EAVD,CAAP;;AAcD,CAlBU,CADD;;AAqBZY,OAAQ;AACNxB,yBADM;AAENM,QAAS,iBAACmB,MAAD,CAAShB,IAAT,CAAeF,OAAf,WAAqCG,cAArC,OAA0BC,SAA1B;AACPD,cAAcG,YAAd,CAA2B,MAA3B,CAAmC,CAAEC,GAAIJ,cAAcS,eAAd,EAAN,CAAnC,CADO,GAFH,CArBI,CAP4B;;;AAkC1CO,oBAAqB;;AAEnBnB,OAFmB,WACjBR,eADiB,OACjBA,cADiB,CACDE,YADC,OACDA,YADC,CACaC,kBADb,OACaA,kBADb;AAGNQ,aAHM,OAGjBC,SAHiB;;AAKnBD;AACGiB,GADH,CACO,QADP,CACiB;AACbT,eAAgBR,cAAcS,eAAd,EADH;AAEbpB,6BAFa;AAGbE,yBAHa;AAIbC,qCAJa,CADjB;;AAOGa,IAPH,CAOQ,yBAAa,CAAEP,iBAAF,CAAb,EAPR,CALmB,GAlCqB,CAA7B,C","file":"EnsayoAdd.js","sourcesContent":["// @flow\n\nimport { mutationWithClientMutationId } from 'graphql-relay'\nimport { GraphQLString, GraphQLNonNull } from 'graphql'\n\nimport EnsayosConnection from '../type/EnsayosConnection'\nimport ViewerType from '../../../../graphql/type/ViewerType'\n\nexport default mutationWithClientMutationId({\n  name: 'EnsayoAdd',\n  inputFields: {\n    Ensayo_Content: { type: new GraphQLNonNull(GraphQLString) },\n    Ensayo_Title: { type: new GraphQLNonNull(GraphQLString) },\n    Ensayo_Description: { type: new GraphQLNonNull(GraphQLString) },\n  },\n  outputFields: {\n    EnsayosEdge: {\n      type: EnsayosConnection.edgeType,\n      resolve: ({ local_id }, { ...args }, context, { rootValue: objectManager }) => {\n        let an_Object\n        return objectManager\n          .getOneObject('Ensayo', { id: local_id })\n          .then(retrieved_Object => {\n            an_Object = retrieved_Object\n          })\n          .then(() =>\n            objectManager.getObjectList('Ensayo', {\n              Ensayo_User_id: objectManager.getViewerUserId(),\n            }),\n          )\n          .then(arr => ({\n            cursor: objectManager.cursorForObjectInConnection('Ensayo', arr, an_Object),\n            node: an_Object,\n          }))\n      },\n    },\n    Viewer: {\n      type: ViewerType,\n      resolve: (parent, args, context, { rootValue: objectManager }) =>\n        objectManager.getOneObject('User', { id: objectManager.getViewerUserId() }),\n    },\n  },\n  mutateAndGetPayload: (\n    { Ensayo_Content, Ensayo_Title, Ensayo_Description },\n    context,\n    { rootValue: objectManager },\n  ) =>\n    objectManager\n      .add('Ensayo', {\n        Ensayo_User_id: objectManager.getViewerUserId(),\n        Ensayo_Content,\n        Ensayo_Title,\n        Ensayo_Description,\n      })\n      .then(local_id => ({ local_id })),\n})\n"]}