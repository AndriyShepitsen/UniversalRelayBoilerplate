{"version":3,"sources":["../../../../units/urb-persister-cassandra/graphql/CassandraOptions.js"],"names":["require","load","CassandraOptions","contactPoints","process","env","CASSANDRA_CONNECTION_POINTS","split","keyspace","CASSANDRA_KEYSPACE","authProvider","CASSANDRA_USER","auth","PlainTextAuthProvider","CASSANDRA_PASSWORD"],"mappings":";;AAEA,iD;;;AAGAA,QAAQ,QAAR,EAAkBC,IAAlB;;AAEA,GAAMC,kBAAmB;;AAEvBC,cAAeC,QAAQC,GAAR,CAAYC,2BAAZ,EAA2C,IAA3C;AACXF,QAAQC,GAAR,CAAYC,2BAAZ,CAAwCC,KAAxC,CAA8C,GAA9C,CADW;AAEX,CAAC,WAAD,CAJmB;AAKvBC,SAAUJ,QAAQC,GAAR,CAAYI,kBALC;AAMvBC,aAAc,IANS,CAAzB;;;AASA,GAAIN,QAAQC,GAAR,CAAYM,cAAhB,CAAgC;AAC9BT,iBAAiBQ,YAAjB,CAAgC,GAAI,2BAAgBE,IAAhB,CAAqBC,qBAAzB;AAC9BT,QAAQC,GAAR,CAAYM,cADkB;AAE9BP,QAAQC,GAAR,CAAYS,kBAFkB,CAAhC;;AAID,C;;AAEcZ,gB","file":"CassandraOptions.js","sourcesContent":["// @flow\n\nimport cassandraDriver from 'cassandra-driver'\n\n// Read environment\nrequire('dotenv').load()\n\nconst CassandraOptions = {\n  // Assume localhost if not defined\n  contactPoints: process.env.CASSANDRA_CONNECTION_POINTS != null\n    ? process.env.CASSANDRA_CONNECTION_POINTS.split(',')\n    : ['localhost'],\n  keyspace: process.env.CASSANDRA_KEYSPACE,\n  authProvider: null,\n}\n\nif (process.env.CASSANDRA_USER) {\n  CassandraOptions.authProvider = new cassandraDriver.auth.PlainTextAuthProvider(\n    process.env.CASSANDRA_USER,\n    process.env.CASSANDRA_PASSWORD,\n  )\n}\n\nexport default CassandraOptions\n"]}