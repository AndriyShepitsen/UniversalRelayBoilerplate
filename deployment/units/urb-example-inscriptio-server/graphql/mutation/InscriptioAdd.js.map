{"version":3,"sources":["../../../../../units/urb-example-inscriptio-server/graphql/mutation/InscriptioAdd.js"],"names":["name","inputFields","Inscriptio_LocationLat","type","Inscriptio_LocationLon","Inscriptio_Notes","outputFields","InscriptiosEdge","edgeType","resolve","context","local_id","args","objectManager","rootValue","getOneObject","id","an_Object","getObjectList","Inscriptio_User_id","getViewerUserId","arr","cursor","cursorForObjectInConnection","node","Viewer","parent","mutateAndGetPayload","add"],"mappings":";;AAEA;AACA;;AAEA,oE;AACA,qF;;AAEe,+CAA6B;AAC1CA,KAAM,eADoC;;AAG1CC,YAAa;AACXC,uBAAwB,CAAEC,KAAM,mDAAR,CADb;AAEXC,uBAAwB,CAAED,KAAM,mDAAR,CAFb;AAGXE,iBAAkB,CAAEF,KAAM,mDAAR,CAHP,CAH6B;;;AAS1CG,aAAc;AACZC,gBAAiB;AACfJ,KAAM,gCAAsBK,QADb;AAEfC,QAAS,4BAAkCC,OAAlC,WAASC,SAAT,MAASA,QAAT,IAA0BC,KAA1B,uCAAwDC,cAAxD,OAA6CC,SAA7C;AACiBD,cAAcE,YAAd,CAA2B,YAA3B,CAAyC,CAAEC,GAAIL,QAAN,CAAzC,CADjB,SACDM,SADC;;AAGWJ,cAAcK,aAAd,CAA4B,YAA5B,CAA0C;AAC1DC,mBAAoBN,cAAcO,eAAd,EADsC,CAA1C,CAHX,SAGDC,GAHC;;;AAOA;AACLC,OAAQT,cAAcU,2BAAd,CAA0C,YAA1C,CAAwDF,GAAxD,CAA6DJ,SAA7D,CADH;AAELO,KAAMP,SAFD,CAPA,2DAFM,CADL;;;;;AAiBZQ,OAAQ;AACNtB,yBADM;AAENM,QAAS,iBAACiB,MAAD,CAASd,IAAT,CAAeF,OAAf,WAAqCG,cAArC,OAA0BC,SAA1B;AACPD,cAAcE,YAAd,CAA2B,MAA3B,CAAmC,CAAEC,GAAIH,cAAcO,eAAd,EAAN,CAAnC,CADO,GAFH,CAjBI,CAT4B;;;;AAiC1CO,oBAAqB;;AAEnBjB,OAFmB,WACjBR,uBADiB,OACjBA,sBADiB,CACOE,sBADP,OACOA,sBADP,CAC+BC,gBAD/B,OAC+BA,gBAD/B;AAGNQ,aAHM,OAGjBC,SAHiB;;AAKID,cAAce,GAAd,CAAkB,YAAlB,CAAgC;AACrDT,mBAAoBN,cAAcO,eAAd,EADiC;AAErDlB,6CAFqD;AAGrDE,6CAHqD;AAIrDC,iCAJqD,CAAhC,CALJ,SAKbM,QALa;;AAWZ,CAAEA,iBAAF,CAXY,4DAjCqB,CAA7B,C","file":"InscriptioAdd.js","sourcesContent":["// @flow weak\n\nimport { mutationWithClientMutationId } from 'graphql-relay'\nimport { GraphQLString, GraphQLNonNull } from 'graphql'\n\nimport InscriptiosConnection from '../type/InscriptiosConnection'\nimport ViewerType from '../../../../units/urb-base-server/graphql/type/ViewerType'\n\nexport default mutationWithClientMutationId({\n  name: 'InscriptioAdd',\n\n  inputFields: {\n    Inscriptio_LocationLat: { type: new GraphQLNonNull(GraphQLString) },\n    Inscriptio_LocationLon: { type: new GraphQLNonNull(GraphQLString) },\n    Inscriptio_Notes: { type: new GraphQLNonNull(GraphQLString) },\n  },\n\n  outputFields: {\n    InscriptiosEdge: {\n      type: InscriptiosConnection.edgeType,\n      resolve: async ({ local_id }, { ...args }, context, { rootValue: objectManager }) => {\n        const an_Object = await objectManager.getOneObject('Inscriptio', { id: local_id })\n\n        const arr = await objectManager.getObjectList('Inscriptio', {\n          Inscriptio_User_id: objectManager.getViewerUserId(),\n        })\n\n        return {\n          cursor: objectManager.cursorForObjectInConnection('Inscriptio', arr, an_Object),\n          node: an_Object,\n        }\n      },\n    },\n\n    Viewer: {\n      type: ViewerType,\n      resolve: (parent, args, context, { rootValue: objectManager }) =>\n        objectManager.getOneObject('User', { id: objectManager.getViewerUserId() }),\n    },\n  },\n\n  mutateAndGetPayload: async (\n    { Inscriptio_LocationLat, Inscriptio_LocationLon, Inscriptio_Notes },\n    context,\n    { rootValue: objectManager },\n  ) => {\n    const local_id = await objectManager.add('Inscriptio', {\n      Inscriptio_User_id: objectManager.getViewerUserId(),\n      Inscriptio_LocationLat,\n      Inscriptio_LocationLon,\n      Inscriptio_Notes,\n    })\n    return { local_id }\n  },\n})\n"]}